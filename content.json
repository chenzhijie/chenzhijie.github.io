{"pages":[{"title":"Chen Zhijie","text":"专业: Golang / iOS / Node.js 开发者 公司: 目前就职于 Onchain 北京 联系方式: Email : zhijieit@gmail.com WeChat : opzhuyi","link":"/about/index.html"}],"posts":[{"title":"ipfs-p2p-bitswap","text":"IPFS P2P网络原理 以及 Bitswap的数据交互流程首先IPFS执行初始化， 先配置 IPFS_PATH 1$ export IPFS_PATH = $PWD 初始化 1$ ipfs init IPFS初始化时会在本地生成一个默认的 config 文件 这个config文件会有一些ip和端口的配置，配置的就是本地的 host 然后在 builder.go 文件里的 setupNode 函数会调用 startOnlineServices 将配置文件中的相关信息传参，从而建立IPFS host bitswap 是一个数据块交互的网络实现， 每个IPFS节点有一个bitswap网络。 通过wantmanager进行管理, 而wantmanager 里面又实现了队列机制。 如果队列有消息需要发送的话，首先判断msgQueue 的sender是否为nil，则会先建立连接，生成一个 sender 然后发送数据。 bitswap 的一些操作命令，基本都是查看数据交互过程的一些数据信息展示， 实际操作主要还是利用到 block get 等相关命令","link":"/2018/08/22/ipfs-p2p-bitswap/"}],"tags":[{"name":"ipfs","slug":"ipfs","link":"/tags/ipfs/"}],"categories":[]}